<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="hs-pragma">{-# LANGUAGE MultiParamTypeClasses, FlexibleInstances #-}</span><span>
</span><a name="line-2"></a><span>
</span><a name="line-3"></a><span class="hs-comment">{- |
    This module supplies a method for writing 'Uniplate' and 'Biplate' instances.
    This moulde gives the highest performance, but requires many instance definitions. The
    instances can be generated using Derive: &lt;http://community.haskell.org/~ndm/derive/&gt;.
    
    To take an example:
    
    &gt; data Expr = Var Int | Pos Expr String | Neg Expr | Add Expr Expr
    &gt; data Stmt = Seq [Stmt] | Sel [Expr] | Let String Expr
    &gt;
    &gt; instance Uniplate Expr where
    &gt;     uniplate (Var x  ) = plate Var |- x
    &gt;     uniplate (Pos x y) = plate Pos |* x |- y
    &gt;     uniplate (Neg x  ) = plate Neg |* x
    &gt;     uniplate (Add x y) = plate Add |* x |* y
    &gt;
    &gt; instance Biplate Expr Expr where
    &gt;     biplate = plateSelf
    &gt;
    &gt; instance Uniplate Stmt where
    &gt;     uniplate (Seq x  ) = plate Seq ||* x
    &gt;     uniplate (Sel x  ) = plate Sel ||+ x
    &gt;     uniplate (Let x y) = plate Let |-  x |- y
    &gt;
    &gt; instance Biplate Stmt Stmt where
    &gt;     biplate = plateSelf
    &gt;
    &gt; instance Biplate Stmt Expr where
    &gt;     biplate (Seq x  ) = plate Seq ||+ x
    &gt;     biplate (Sel x  ) = plate Sel ||* x
    &gt;     biplate (Let x y) = plate Let |-  x |* y

    To define instances for abstract data types, such as @Map@ or @Set@ from the @containers@ package,
    use 'plateProject'.

    This module provides a few monomorphic instances of 'Uniplate' / 'Biplate'
    for common types available in the base library, but does not provide any polymorphic
    instances. Given only monomorphic instances it is trivial to ensure that all instances
    are disjoint, making it easier to add your own instances.

    When defining polymorphic instances, be carefully to mention all potential children.
    Consider @Biplate Int (Int, a)@ - this instance cannot be correct because it will fail
    to return both @Int@ values on @(Int,Int)@. There are some legitimate polymorphic instances,
    such as @Biplate a [a]@ and @Biplate a a@, but take care to avoid overlapping instances.
-}</span><span>
</span><a name="line-48"></a><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">Data.Generics.Uniplate.Direct</span><span class="hs-special">(</span><span>
</span><a name="line-49"></a><span>    </span><span class="hs-keyword">module</span><span> </span><a href="Data.Generics.Uniplate.Operations.html"><span class="hs-identifier">Data.Generics.Uniplate.Operations</span></a><span class="hs-special">,</span><span>
</span><a name="line-50"></a><span>    </span><span class="hs-comment">-- * The Combinators</span><span>
</span><a name="line-51"></a><span>    </span><a href="Data.Generics.Uniplate.Direct.html#plate"><span class="hs-identifier hs-var">plate</span></a><span class="hs-special">,</span><span> </span><a href="Data.Generics.Uniplate.Direct.html#plateSelf"><span class="hs-identifier hs-var">plateSelf</span></a><span class="hs-special">,</span><span>
</span><a name="line-52"></a><span>    </span><span class="hs-special">(</span><a href="Data.Generics.Uniplate.Direct.html#%7C%2B"><span class="hs-operator hs-var">|+</span></a><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><a href="Data.Generics.Uniplate.Direct.html#%7C-"><span class="hs-operator hs-var">|-</span></a><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><a href="Data.Generics.Uniplate.Direct.html#%7C%2A"><span class="hs-operator hs-var">|*</span></a><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><a href="Data.Generics.Uniplate.Direct.html#%7C%7C%2B"><span class="hs-operator hs-var">||+</span></a><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><a href="Data.Generics.Uniplate.Direct.html#%7C%7C%2A"><span class="hs-operator hs-var">||*</span></a><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><a name="line-53"></a><span>    </span><a href="Data.Generics.Uniplate.Direct.html#plateProject"><span class="hs-identifier hs-var">plateProject</span></a><span>
</span><a name="line-54"></a><span>    </span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-55"></a><span>
</span><a name="line-56"></a><span class="hs-keyword">import</span><span> </span><span class="hs-identifier">Control.Arrow</span><span>
</span><a name="line-57"></a><span class="hs-keyword">import</span><span> </span><a href="Data.Generics.Uniplate.Operations.html"><span class="hs-identifier">Data.Generics.Uniplate.Operations</span></a><span>
</span><a name="line-58"></a><span class="hs-keyword">import</span><span> </span><a href="Data.Generics.Str.html"><span class="hs-identifier">Data.Generics.Str</span></a><span>
</span><a name="line-59"></a><span class="hs-keyword">import</span><span> </span><span class="hs-identifier">Data.Ratio</span><span>
</span><a name="line-60"></a><span>
</span><a name="line-61"></a><span>
</span><a name="line-62"></a><span class="hs-keyword">type</span><span> </span><a name="Type"><a href="Data.Generics.Uniplate.Direct.html#Type"><span class="hs-identifier">Type</span></a></a><span> </span><a name="local-6989586621679075853"><a href="#local-6989586621679075853"><span class="hs-identifier">from</span></a></a><span> </span><a name="local-6989586621679075854"><a href="#local-6989586621679075854"><span class="hs-identifier">to</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><a href="Data.Generics.Str.html#Str"><span class="hs-identifier hs-type">Str</span></a><span> </span><a href="#local-6989586621679075854"><span class="hs-identifier hs-type">to</span></a><span class="hs-special">,</span><span> </span><a href="Data.Generics.Str.html#Str"><span class="hs-identifier hs-type">Str</span></a><span> </span><a href="#local-6989586621679075854"><span class="hs-identifier hs-type">to</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679075853"><span class="hs-identifier hs-type">from</span></a><span class="hs-special">)</span><span>
</span><a name="line-63"></a><span>
</span><a name="line-64"></a><span class="hs-comment">-- | The main combinator used to start the chain.</span><span>
</span><a name="line-65"></a><span class="hs-comment">--</span><span>
</span><a name="line-66"></a><span class="hs-comment">-- The following rule can be used for optimisation:</span><span>
</span><a name="line-67"></a><span class="hs-comment">--</span><span>
</span><a name="line-68"></a><span class="hs-comment">-- &gt; plate Ctor |- x == plate (Ctor x)</span><span>
</span><a name="line-69"></a><span class="hs-pragma">{-# INLINE</span><span class="hs-pragma">[</span><span class="hs-pragma">1</span><span class="hs-pragma">]</span><span> </span><span class="hs-pragma">plate</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><a name="line-70"></a><span class="hs-identifier">plate</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="#local-6989586621679075893"><span class="hs-identifier hs-type">from</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Data.Generics.Uniplate.Direct.html#Type"><span class="hs-identifier hs-type">Type</span></a><span> </span><a href="#local-6989586621679075893"><span class="hs-identifier hs-type">from</span></a><span> </span><a href="#local-6989586621679075894"><span class="hs-identifier hs-type">to</span></a><span>
</span><a name="line-71"></a><a name="plate"><a href="Data.Generics.Uniplate.Direct.html#plate"><span class="hs-identifier">plate</span></a></a><span> </span><a name="local-6989586621679075895"><a href="#local-6989586621679075895"><span class="hs-identifier">f</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><a href="Data.Generics.Str.html#Zero"><span class="hs-identifier hs-var">Zero</span></a><span class="hs-special">,</span><span> </span><span class="hs-glyph">\</span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679075895"><span class="hs-identifier hs-var">f</span></a><span class="hs-special">)</span><span>
</span><a name="line-72"></a><span>
</span><a name="line-73"></a><span>
</span><a name="line-74"></a><span class="hs-pragma">{-# RULES</span><span>
</span><a name="line-75"></a><span class="hs-pragma">&quot;plate/-&quot;</span><span>    </span><span class="hs-pragma">forall</span><span> </span><span class="hs-pragma">f</span><span> </span><span class="hs-pragma">x</span><span class="hs-pragma">.</span><span> </span><span class="hs-pragma">plate</span><span> </span><span class="hs-pragma">f</span><span> </span><span class="hs-pragma">|-</span><span> </span><span class="hs-pragma">x</span><span> </span><span class="hs-pragma">=</span><span> </span><span class="hs-pragma">plate</span><span> </span><span class="hs-pragma">(</span><span class="hs-pragma">f</span><span> </span><span class="hs-pragma">x</span><span class="hs-pragma">)</span><span>
</span><a name="line-76"></a><span class="hs-pragma">&quot;plate/+&quot;</span><span>    </span><span class="hs-pragma">forall</span><span> </span><span class="hs-pragma">f</span><span> </span><span class="hs-pragma">x</span><span class="hs-pragma">.</span><span> </span><span class="hs-pragma">plate</span><span> </span><span class="hs-pragma">f</span><span> </span><span class="hs-pragma">|+</span><span> </span><span class="hs-pragma">x</span><span> </span><span class="hs-pragma">=</span><span> </span><span class="hs-pragma">platePlus</span><span> </span><span class="hs-pragma">f</span><span> </span><span class="hs-pragma">x</span><span>
</span><a name="line-77"></a><span class="hs-pragma">&quot;plate/*&quot;</span><span>    </span><span class="hs-pragma">forall</span><span> </span><span class="hs-pragma">f</span><span> </span><span class="hs-pragma">x</span><span class="hs-pragma">.</span><span> </span><span class="hs-pragma">plate</span><span> </span><span class="hs-pragma">f</span><span> </span><span class="hs-pragma">|*</span><span> </span><span class="hs-pragma">x</span><span> </span><span class="hs-pragma">=</span><span> </span><span class="hs-pragma">plateStar</span><span> </span><span class="hs-pragma">f</span><span> </span><span class="hs-pragma">x</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><a name="line-78"></a><span>
</span><a name="line-79"></a><span>
</span><a name="line-80"></a><span class="hs-pragma">{-# INLINE</span><span> </span><span class="hs-pragma">plateStar</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><a name="line-81"></a><span class="hs-identifier">plateStar</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><a href="#local-6989586621679075891"><span class="hs-identifier hs-type">to</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679075892"><span class="hs-identifier hs-type">from</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679075891"><span class="hs-identifier hs-type">to</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Data.Generics.Uniplate.Direct.html#Type"><span class="hs-identifier hs-type">Type</span></a><span> </span><a href="#local-6989586621679075892"><span class="hs-identifier hs-type">from</span></a><span> </span><a href="#local-6989586621679075891"><span class="hs-identifier hs-type">to</span></a><span>
</span><a name="line-82"></a><a name="plateStar"><a href="Data.Generics.Uniplate.Direct.html#plateStar"><span class="hs-identifier">plateStar</span></a></a><span> </span><a name="local-6989586621679075896"><a href="#local-6989586621679075896"><span class="hs-identifier">f</span></a></a><span> </span><a name="local-6989586621679075897"><a href="#local-6989586621679075897"><span class="hs-identifier">x</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><a href="Data.Generics.Str.html#One"><span class="hs-identifier hs-var">One</span></a><span> </span><a href="#local-6989586621679075897"><span class="hs-identifier hs-var">x</span></a><span class="hs-special">,</span><span> </span><span class="hs-glyph">\</span><span class="hs-special">(</span><a href="Data.Generics.Str.html#One"><span class="hs-identifier hs-var">One</span></a><span> </span><a name="local-6989586621679075898"><a href="#local-6989586621679075898"><span class="hs-identifier">x</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679075896"><span class="hs-identifier hs-var">f</span></a><span> </span><a href="#local-6989586621679075898"><span class="hs-identifier hs-var">x</span></a><span class="hs-special">)</span><span>
</span><a name="line-83"></a><span>
</span><a name="line-84"></a><span class="hs-pragma">{-# INLINE</span><span> </span><span class="hs-pragma">platePlus</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><a name="line-85"></a><span class="hs-identifier">platePlus</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="Data.Generics.Uniplate.Operations.html#Biplate"><span class="hs-identifier hs-type">Biplate</span></a><span> </span><a href="#local-6989586621679075888"><span class="hs-identifier hs-type">item</span></a><span> </span><a href="#local-6989586621679075889"><span class="hs-identifier hs-type">to</span></a><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><a href="#local-6989586621679075888"><span class="hs-identifier hs-type">item</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679075890"><span class="hs-identifier hs-type">from</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679075888"><span class="hs-identifier hs-type">item</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Data.Generics.Uniplate.Direct.html#Type"><span class="hs-identifier hs-type">Type</span></a><span> </span><a href="#local-6989586621679075890"><span class="hs-identifier hs-type">from</span></a><span> </span><a href="#local-6989586621679075889"><span class="hs-identifier hs-type">to</span></a><span>
</span><a name="line-86"></a><a name="platePlus"><a href="Data.Generics.Uniplate.Direct.html#platePlus"><span class="hs-identifier">platePlus</span></a></a><span> </span><a name="local-6989586621679075899"><a href="#local-6989586621679075899"><span class="hs-identifier">f</span></a></a><span> </span><a name="local-6989586621679075900"><a href="#local-6989586621679075900"><span class="hs-identifier">x</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><a href="Data.Generics.Uniplate.Operations.html#biplate"><span class="hs-identifier hs-var">biplate</span></a><span> </span><a href="#local-6989586621679075900"><span class="hs-identifier hs-var">x</span></a><span> </span><span class="hs-keyword">of</span><span>
</span><a name="line-87"></a><span>                        </span><span class="hs-special">(</span><a name="local-6989586621679075901"><a href="#local-6989586621679075901"><span class="hs-identifier">ys</span></a></a><span class="hs-special">,</span><a name="local-6989586621679075902"><a href="#local-6989586621679075902"><span class="hs-identifier">y_</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><a href="#local-6989586621679075901"><span class="hs-identifier hs-var">ys</span></a><span class="hs-special">,</span><span> </span><span class="hs-glyph">\</span><a name="local-6989586621679075903"><a href="#local-6989586621679075903"><span class="hs-identifier">ys</span></a></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679075899"><span class="hs-identifier hs-var">f</span></a><span> </span><span class="hs-operator hs-var">$</span><span> </span><a href="#local-6989586621679075902"><span class="hs-identifier hs-var">y_</span></a><span> </span><a href="#local-6989586621679075903"><span class="hs-identifier hs-var">ys</span></a><span class="hs-special">)</span><span>
</span><a name="line-88"></a><span>
</span><a name="line-89"></a><span>
</span><a name="line-90"></a><span class="hs-comment">-- | The field to the right is the target.</span><span>
</span><a name="line-91"></a><span class="hs-pragma">{-# INLINE</span><span class="hs-pragma">[</span><span class="hs-pragma">1</span><span class="hs-pragma">]</span><span> </span><span class="hs-pragma">(</span><span class="hs-pragma">|*</span><span class="hs-pragma">)</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><a name="line-92"></a><span class="hs-special">(</span><span class="hs-operator">|*</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="Data.Generics.Uniplate.Direct.html#Type"><span class="hs-identifier hs-type">Type</span></a><span> </span><span class="hs-special">(</span><a href="#local-6989586621679075886"><span class="hs-identifier hs-type">to</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679075887"><span class="hs-identifier hs-type">from</span></a><span class="hs-special">)</span><span> </span><a href="#local-6989586621679075886"><span class="hs-identifier hs-type">to</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679075886"><span class="hs-identifier hs-type">to</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Data.Generics.Uniplate.Direct.html#Type"><span class="hs-identifier hs-type">Type</span></a><span> </span><a href="#local-6989586621679075887"><span class="hs-identifier hs-type">from</span></a><span> </span><a href="#local-6989586621679075886"><span class="hs-identifier hs-type">to</span></a><span>
</span><a name="line-93"></a><span class="hs-special">(</span><a name="%7C%2A"><a href="Data.Generics.Uniplate.Direct.html#%7C%2A"><span class="hs-operator">|*</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><a name="local-6989586621679075904"><a href="#local-6989586621679075904"><span class="hs-identifier">xs</span></a></a><span class="hs-special">,</span><a name="local-6989586621679075905"><a href="#local-6989586621679075905"><span class="hs-identifier">x_</span></a></a><span class="hs-special">)</span><span> </span><a name="local-6989586621679075906"><a href="#local-6989586621679075906"><span class="hs-identifier">y</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><a href="Data.Generics.Str.html#Two"><span class="hs-identifier hs-var">Two</span></a><span> </span><a href="#local-6989586621679075904"><span class="hs-identifier hs-var">xs</span></a><span> </span><span class="hs-special">(</span><a href="Data.Generics.Str.html#One"><span class="hs-identifier hs-var">One</span></a><span> </span><a href="#local-6989586621679075906"><span class="hs-identifier hs-var">y</span></a><span class="hs-special">)</span><span class="hs-special">,</span><span class="hs-glyph">\</span><span class="hs-special">(</span><a href="Data.Generics.Str.html#Two"><span class="hs-identifier hs-var">Two</span></a><span> </span><a name="local-6989586621679075907"><a href="#local-6989586621679075907"><span class="hs-identifier">xs</span></a></a><span> </span><span class="hs-special">(</span><a href="Data.Generics.Str.html#One"><span class="hs-identifier hs-var">One</span></a><span> </span><a name="local-6989586621679075908"><a href="#local-6989586621679075908"><span class="hs-identifier">y</span></a></a><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679075905"><span class="hs-identifier hs-var">x_</span></a><span> </span><a href="#local-6989586621679075907"><span class="hs-identifier hs-var">xs</span></a><span> </span><a href="#local-6989586621679075908"><span class="hs-identifier hs-var">y</span></a><span class="hs-special">)</span><span>
</span><a name="line-94"></a><span>
</span><a name="line-95"></a><span>
</span><a name="line-96"></a><span>
</span><a name="line-97"></a><span class="hs-comment">-- | The field to the right may contain the target.</span><span>
</span><a name="line-98"></a><span class="hs-pragma">{-# INLINE</span><span class="hs-pragma">[</span><span class="hs-pragma">1</span><span class="hs-pragma">]</span><span> </span><span class="hs-pragma">(</span><span class="hs-pragma">|+</span><span class="hs-pragma">)</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><a name="line-99"></a><span class="hs-special">(</span><span class="hs-operator">|+</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="Data.Generics.Uniplate.Operations.html#Biplate"><span class="hs-identifier hs-type">Biplate</span></a><span> </span><a href="#local-6989586621679075883"><span class="hs-identifier hs-type">item</span></a><span> </span><a href="#local-6989586621679075884"><span class="hs-identifier hs-type">to</span></a><span> </span><span class="hs-glyph">=&gt;</span><span> </span><a href="Data.Generics.Uniplate.Direct.html#Type"><span class="hs-identifier hs-type">Type</span></a><span> </span><span class="hs-special">(</span><a href="#local-6989586621679075883"><span class="hs-identifier hs-type">item</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679075885"><span class="hs-identifier hs-type">from</span></a><span class="hs-special">)</span><span> </span><a href="#local-6989586621679075884"><span class="hs-identifier hs-type">to</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679075883"><span class="hs-identifier hs-type">item</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Data.Generics.Uniplate.Direct.html#Type"><span class="hs-identifier hs-type">Type</span></a><span> </span><a href="#local-6989586621679075885"><span class="hs-identifier hs-type">from</span></a><span> </span><a href="#local-6989586621679075884"><span class="hs-identifier hs-type">to</span></a><span>
</span><a name="line-100"></a><span class="hs-special">(</span><a name="%7C%2B"><a href="Data.Generics.Uniplate.Direct.html#%7C%2B"><span class="hs-operator">|+</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><a name="local-6989586621679075909"><a href="#local-6989586621679075909"><span class="hs-identifier">xs</span></a></a><span class="hs-special">,</span><a name="local-6989586621679075910"><a href="#local-6989586621679075910"><span class="hs-identifier">x_</span></a></a><span class="hs-special">)</span><span> </span><a name="local-6989586621679075911"><a href="#local-6989586621679075911"><span class="hs-identifier">y</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><a href="Data.Generics.Uniplate.Operations.html#biplate"><span class="hs-identifier hs-var">biplate</span></a><span> </span><a href="#local-6989586621679075911"><span class="hs-identifier hs-var">y</span></a><span> </span><span class="hs-keyword">of</span><span>
</span><a name="line-101"></a><span>                      </span><span class="hs-special">(</span><a name="local-6989586621679075912"><a href="#local-6989586621679075912"><span class="hs-identifier">ys</span></a></a><span class="hs-special">,</span><a name="local-6989586621679075913"><a href="#local-6989586621679075913"><span class="hs-identifier">y_</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><a href="Data.Generics.Str.html#Two"><span class="hs-identifier hs-var">Two</span></a><span> </span><a href="#local-6989586621679075909"><span class="hs-identifier hs-var">xs</span></a><span> </span><a href="#local-6989586621679075912"><span class="hs-identifier hs-var">ys</span></a><span class="hs-special">,</span><span> </span><span class="hs-glyph">\</span><span class="hs-special">(</span><a href="Data.Generics.Str.html#Two"><span class="hs-identifier hs-var">Two</span></a><span> </span><a name="local-6989586621679075914"><a href="#local-6989586621679075914"><span class="hs-identifier">xs</span></a></a><span> </span><a name="local-6989586621679075915"><a href="#local-6989586621679075915"><span class="hs-identifier">ys</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679075910"><span class="hs-identifier hs-var">x_</span></a><span> </span><a href="#local-6989586621679075914"><span class="hs-identifier hs-var">xs</span></a><span> </span><span class="hs-special">(</span><a href="#local-6989586621679075913"><span class="hs-identifier hs-var">y_</span></a><span> </span><a href="#local-6989586621679075915"><span class="hs-identifier hs-var">ys</span></a><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><a name="line-102"></a><span>
</span><a name="line-103"></a><span>
</span><a name="line-104"></a><span class="hs-comment">-- | The field to the right /does not/ contain the target.</span><span>
</span><a name="line-105"></a><span class="hs-pragma">{-# INLINE</span><span class="hs-pragma">[</span><span class="hs-pragma">1</span><span class="hs-pragma">]</span><span> </span><span class="hs-pragma">(</span><span class="hs-pragma">|-</span><span class="hs-pragma">)</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><a name="line-106"></a><span class="hs-special">(</span><span class="hs-operator">|-</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="Data.Generics.Uniplate.Direct.html#Type"><span class="hs-identifier hs-type">Type</span></a><span> </span><span class="hs-special">(</span><a href="#local-6989586621679075880"><span class="hs-identifier hs-type">item</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679075881"><span class="hs-identifier hs-type">from</span></a><span class="hs-special">)</span><span> </span><a href="#local-6989586621679075882"><span class="hs-identifier hs-type">to</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679075880"><span class="hs-identifier hs-type">item</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Data.Generics.Uniplate.Direct.html#Type"><span class="hs-identifier hs-type">Type</span></a><span> </span><a href="#local-6989586621679075881"><span class="hs-identifier hs-type">from</span></a><span> </span><a href="#local-6989586621679075882"><span class="hs-identifier hs-type">to</span></a><span>
</span><a name="line-107"></a><span class="hs-special">(</span><a name="%7C-"><a href="Data.Generics.Uniplate.Direct.html#%7C-"><span class="hs-operator">|-</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><a name="local-6989586621679075916"><a href="#local-6989586621679075916"><span class="hs-identifier">xs</span></a></a><span class="hs-special">,</span><a name="local-6989586621679075917"><a href="#local-6989586621679075917"><span class="hs-identifier">x_</span></a></a><span class="hs-special">)</span><span> </span><a name="local-6989586621679075918"><a href="#local-6989586621679075918"><span class="hs-identifier">y</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><a href="#local-6989586621679075916"><span class="hs-identifier hs-var">xs</span></a><span class="hs-special">,</span><span class="hs-glyph">\</span><a name="local-6989586621679075919"><a href="#local-6989586621679075919"><span class="hs-identifier">xs</span></a></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679075917"><span class="hs-identifier hs-var">x_</span></a><span> </span><a href="#local-6989586621679075919"><span class="hs-identifier hs-var">xs</span></a><span> </span><a href="#local-6989586621679075918"><span class="hs-identifier hs-var">y</span></a><span class="hs-special">)</span><span>
</span><a name="line-108"></a><span>
</span><a name="line-109"></a><span>
</span><a name="line-110"></a><span class="hs-comment">-- | The field to the right is a list of the type of the target</span><span>
</span><a name="line-111"></a><span class="hs-pragma">{-# INLINE</span><span> </span><span class="hs-pragma">(</span><span class="hs-pragma">||*</span><span class="hs-pragma">)</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><a name="line-112"></a><span class="hs-special">(</span><span class="hs-operator">||*</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="Data.Generics.Uniplate.Direct.html#Type"><span class="hs-identifier hs-type">Type</span></a><span> </span><span class="hs-special">(</span><span class="hs-special">[</span><a href="#local-6989586621679075878"><span class="hs-identifier hs-type">to</span></a><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679075879"><span class="hs-identifier hs-type">from</span></a><span class="hs-special">)</span><span> </span><a href="#local-6989586621679075878"><span class="hs-identifier hs-type">to</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><a href="#local-6989586621679075878"><span class="hs-identifier hs-type">to</span></a><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Data.Generics.Uniplate.Direct.html#Type"><span class="hs-identifier hs-type">Type</span></a><span> </span><a href="#local-6989586621679075879"><span class="hs-identifier hs-type">from</span></a><span> </span><a href="#local-6989586621679075878"><span class="hs-identifier hs-type">to</span></a><span>
</span><a name="line-113"></a><span class="hs-special">(</span><a name="%7C%7C%2A"><a href="Data.Generics.Uniplate.Direct.html#%7C%7C%2A"><span class="hs-operator">||*</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><a name="local-6989586621679075920"><a href="#local-6989586621679075920"><span class="hs-identifier">xs</span></a></a><span class="hs-special">,</span><a name="local-6989586621679075921"><a href="#local-6989586621679075921"><span class="hs-identifier">x_</span></a></a><span class="hs-special">)</span><span> </span><a name="local-6989586621679075922"><a href="#local-6989586621679075922"><span class="hs-identifier">y</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><a href="Data.Generics.Str.html#Two"><span class="hs-identifier hs-var">Two</span></a><span> </span><a href="#local-6989586621679075920"><span class="hs-identifier hs-var">xs</span></a><span> </span><span class="hs-special">(</span><a href="Data.Generics.Str.html#listStr"><span class="hs-identifier hs-var">listStr</span></a><span> </span><a href="#local-6989586621679075922"><span class="hs-identifier hs-var">y</span></a><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="hs-glyph">\</span><span class="hs-special">(</span><a href="Data.Generics.Str.html#Two"><span class="hs-identifier hs-var">Two</span></a><span> </span><a name="local-6989586621679075923"><a href="#local-6989586621679075923"><span class="hs-identifier">xs</span></a></a><span> </span><a name="local-6989586621679075924"><a href="#local-6989586621679075924"><span class="hs-identifier">ys</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679075921"><span class="hs-identifier hs-var">x_</span></a><span> </span><a href="#local-6989586621679075923"><span class="hs-identifier hs-var">xs</span></a><span> </span><span class="hs-special">(</span><a href="Data.Generics.Str.html#strList"><span class="hs-identifier hs-var">strList</span></a><span> </span><a href="#local-6989586621679075924"><span class="hs-identifier hs-var">ys</span></a><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><a name="line-114"></a><span>
</span><a name="line-115"></a><span>
</span><a name="line-116"></a><span class="hs-comment">-- | The field to the right is a list of types which may contain the target</span><span>
</span><a name="line-117"></a><span class="hs-special">(</span><span class="hs-operator">||+</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="Data.Generics.Uniplate.Operations.html#Biplate"><span class="hs-identifier hs-type">Biplate</span></a><span> </span><a href="#local-6989586621679075875"><span class="hs-identifier hs-type">item</span></a><span> </span><a href="#local-6989586621679075876"><span class="hs-identifier hs-type">to</span></a><span> </span><span class="hs-glyph">=&gt;</span><span> </span><a href="Data.Generics.Uniplate.Direct.html#Type"><span class="hs-identifier hs-type">Type</span></a><span> </span><span class="hs-special">(</span><span class="hs-special">[</span><a href="#local-6989586621679075875"><span class="hs-identifier hs-type">item</span></a><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679075877"><span class="hs-identifier hs-type">from</span></a><span class="hs-special">)</span><span> </span><a href="#local-6989586621679075876"><span class="hs-identifier hs-type">to</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><a href="#local-6989586621679075875"><span class="hs-identifier hs-type">item</span></a><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Data.Generics.Uniplate.Direct.html#Type"><span class="hs-identifier hs-type">Type</span></a><span> </span><a href="#local-6989586621679075877"><span class="hs-identifier hs-type">from</span></a><span> </span><a href="#local-6989586621679075876"><span class="hs-identifier hs-type">to</span></a><span>
</span><a name="line-118"></a><span class="hs-special">(</span><a name="%7C%7C%2B"><a href="Data.Generics.Uniplate.Direct.html#%7C%7C%2B"><span class="hs-operator">||+</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><a name="local-6989586621679075925"><a href="#local-6989586621679075925"><span class="hs-identifier">xs</span></a></a><span class="hs-special">,</span><a name="local-6989586621679075926"><a href="#local-6989586621679075926"><span class="hs-identifier">x_</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><a href="#local-6989586621679075925"><span class="hs-identifier hs-var">xs</span></a><span class="hs-special">,</span><span> </span><span class="hs-glyph">\</span><a name="local-6989586621679075927"><a href="#local-6989586621679075927"><span class="hs-identifier">xs</span></a></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679075926"><span class="hs-identifier hs-var">x_</span></a><span> </span><a href="#local-6989586621679075927"><span class="hs-identifier hs-var">xs</span></a><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="hs-comment">-- can eliminate a Two _ Zero in the base case</span><span>
</span><a name="line-119"></a><span class="hs-special">(</span><span class="hs-operator">||+</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><a name="local-6989586621679075928"><a href="#local-6989586621679075928"><span class="hs-identifier">xs</span></a></a><span class="hs-special">,</span><a name="local-6989586621679075929"><a href="#local-6989586621679075929"><span class="hs-identifier">x_</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><a name="local-6989586621679075930"><a href="#local-6989586621679075930"><span class="hs-identifier">y</span></a></a><span class="hs-glyph">:</span><a name="local-6989586621679075931"><a href="#local-6989586621679075931"><span class="hs-identifier">ys</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><a href="Data.Generics.Uniplate.Direct.html#plate"><span class="hs-identifier hs-var">plate</span></a><span> </span><span class="hs-special">(</span><span class="hs-glyph">:</span><span class="hs-special">)</span><span> </span><a href="Data.Generics.Uniplate.Direct.html#%7C%2B"><span class="hs-operator hs-var">|+</span></a><span> </span><a href="#local-6989586621679075930"><span class="hs-identifier hs-var">y</span></a><span> </span><a href="Data.Generics.Uniplate.Direct.html#%7C%7C%2B"><span class="hs-operator hs-var">||+</span></a><span> </span><a href="#local-6989586621679075931"><span class="hs-identifier hs-var">ys</span></a><span> </span><span class="hs-keyword">of</span><span>
</span><a name="line-120"></a><span>                       </span><span class="hs-special">(</span><a name="local-6989586621679075932"><a href="#local-6989586621679075932"><span class="hs-identifier">ys</span></a></a><span class="hs-special">,</span><a name="local-6989586621679075933"><a href="#local-6989586621679075933"><span class="hs-identifier">y_</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><a href="Data.Generics.Str.html#Two"><span class="hs-identifier hs-var">Two</span></a><span> </span><a href="#local-6989586621679075928"><span class="hs-identifier hs-var">xs</span></a><span> </span><a href="#local-6989586621679075932"><span class="hs-identifier hs-var">ys</span></a><span class="hs-special">,</span><span> </span><span class="hs-glyph">\</span><span class="hs-special">(</span><a href="Data.Generics.Str.html#Two"><span class="hs-identifier hs-var">Two</span></a><span> </span><a name="local-6989586621679075934"><a href="#local-6989586621679075934"><span class="hs-identifier">xs</span></a></a><span> </span><a name="local-6989586621679075935"><a href="#local-6989586621679075935"><span class="hs-identifier">ys</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679075929"><span class="hs-identifier hs-var">x_</span></a><span> </span><a href="#local-6989586621679075934"><span class="hs-identifier hs-var">xs</span></a><span> </span><span class="hs-special">(</span><a href="#local-6989586621679075933"><span class="hs-identifier hs-var">y_</span></a><span> </span><a href="#local-6989586621679075935"><span class="hs-identifier hs-var">ys</span></a><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><a name="line-121"></a><span>
</span><a name="line-122"></a><span>
</span><a name="line-123"></a><span class="hs-comment">-- | Used for 'Biplate' definitions where both types are the same.</span><span>
</span><a name="line-124"></a><span class="hs-identifier">plateSelf</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="#local-6989586621679075874"><span class="hs-identifier hs-type">to</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Data.Generics.Uniplate.Direct.html#Type"><span class="hs-identifier hs-type">Type</span></a><span> </span><a href="#local-6989586621679075874"><span class="hs-identifier hs-type">to</span></a><span> </span><a href="#local-6989586621679075874"><span class="hs-identifier hs-type">to</span></a><span>
</span><a name="line-125"></a><a name="plateSelf"><a href="Data.Generics.Uniplate.Direct.html#plateSelf"><span class="hs-identifier">plateSelf</span></a></a><span> </span><a name="local-6989586621679075936"><a href="#local-6989586621679075936"><span class="hs-identifier">x</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><a href="Data.Generics.Str.html#One"><span class="hs-identifier hs-var">One</span></a><span> </span><a href="#local-6989586621679075936"><span class="hs-identifier hs-var">x</span></a><span class="hs-special">,</span><span> </span><span class="hs-glyph">\</span><span class="hs-special">(</span><a href="Data.Generics.Str.html#One"><span class="hs-identifier hs-var">One</span></a><span> </span><a name="local-6989586621679075937"><a href="#local-6989586621679075937"><span class="hs-identifier">x</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679075937"><span class="hs-identifier hs-var">x</span></a><span class="hs-special">)</span><span>
</span><a name="line-126"></a><span>
</span><a name="line-127"></a><span>
</span><a name="line-128"></a><span class="hs-comment">-- | Write an instance in terms of a projection/injection pair. Usually used to define instances</span><span>
</span><a name="line-129"></a><span class="hs-comment">--   for abstract containers such as Map:</span><span>
</span><a name="line-130"></a><span class="hs-comment">--</span><span>
</span><a name="line-131"></a><span class="hs-comment">-- &gt; instance Biplate (Map.Map [Char] Int) Char where</span><span>
</span><a name="line-132"></a><span class="hs-comment">-- &gt;     biplate = plateProject Map.toList Map.fromList</span><span>
</span><a name="line-133"></a><span class="hs-comment">--</span><span>
</span><a name="line-134"></a><span class="hs-comment">--   If the types ensure that no operations will not change the keys</span><span>
</span><a name="line-135"></a><span class="hs-comment">--   we can use the 'fromDistictAscList' function to reconstruct the Map:</span><span>
</span><a name="line-136"></a><span class="hs-comment">--</span><span>
</span><a name="line-137"></a><span class="hs-comment">-- &gt; instance Biplate (Map.Map [Char] Int) Int where</span><span>
</span><a name="line-138"></a><span class="hs-comment">-- &gt;     biplate = plateProject Map.toAscList Map.fromDistinctAscList</span><span>
</span><a name="line-139"></a><span class="hs-identifier">plateProject</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="Data.Generics.Uniplate.Operations.html#Biplate"><span class="hs-identifier hs-type">Biplate</span></a><span> </span><a href="#local-6989586621679075871"><span class="hs-identifier hs-type">item</span></a><span> </span><a href="#local-6989586621679075872"><span class="hs-identifier hs-type">to</span></a><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><a href="#local-6989586621679075873"><span class="hs-identifier hs-type">from</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679075871"><span class="hs-identifier hs-type">item</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><a href="#local-6989586621679075871"><span class="hs-identifier hs-type">item</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679075873"><span class="hs-identifier hs-type">from</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679075873"><span class="hs-identifier hs-type">from</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Data.Generics.Uniplate.Direct.html#Type"><span class="hs-identifier hs-type">Type</span></a><span> </span><a href="#local-6989586621679075873"><span class="hs-identifier hs-type">from</span></a><span> </span><a href="#local-6989586621679075872"><span class="hs-identifier hs-type">to</span></a><span>
</span><a name="line-140"></a><a name="plateProject"><a href="Data.Generics.Uniplate.Direct.html#plateProject"><span class="hs-identifier">plateProject</span></a></a><span> </span><a name="local-6989586621679075938"><a href="#local-6989586621679075938"><span class="hs-identifier">into</span></a></a><span> </span><a name="local-6989586621679075939"><a href="#local-6989586621679075939"><span class="hs-identifier">outof</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">second</span><span> </span><span class="hs-special">(</span><a href="#local-6989586621679075939"><span class="hs-identifier hs-var">outof</span></a><span> </span><span class="hs-operator hs-var">.</span><span> </span><span class="hs-special">)</span><span> </span><span class="hs-operator hs-var">.</span><span> </span><a href="Data.Generics.Uniplate.Operations.html#biplate"><span class="hs-identifier hs-var">biplate</span></a><span> </span><span class="hs-operator hs-var">.</span><span> </span><a href="#local-6989586621679075938"><span class="hs-identifier hs-var">into</span></a><span>
</span><a name="line-141"></a><span>
</span><a name="line-142"></a><span>
</span><a name="line-143"></a><span class="hs-keyword">instance</span><span> </span><a href="Data.Generics.Uniplate.Operations.html#Uniplate"><span class="hs-identifier hs-type">Uniplate</span></a><span> </span><span class="hs-identifier hs-type">Int</span><span> </span><span class="hs-keyword">where</span><span> </span><a name="local-8214565720323848942"><a href="Data.Generics.Uniplate.Operations.html#uniplate"><span class="hs-identifier">uniplate</span></a></a><span> </span><a name="local-6989586621679075870"><a href="#local-6989586621679075870"><span class="hs-identifier">x</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Data.Generics.Uniplate.Direct.html#plate"><span class="hs-identifier hs-var">plate</span></a><span> </span><a href="#local-6989586621679075870"><span class="hs-identifier hs-var">x</span></a><span>
</span><a name="line-144"></a><span class="hs-keyword">instance</span><span> </span><a href="Data.Generics.Uniplate.Operations.html#Uniplate"><span class="hs-identifier hs-type">Uniplate</span></a><span> </span><span class="hs-identifier hs-type">Bool</span><span> </span><span class="hs-keyword">where</span><span> </span><a name="local-8214565720323848942"><a href="Data.Generics.Uniplate.Operations.html#uniplate"><span class="hs-identifier">uniplate</span></a></a><span> </span><a name="local-6989586621679075869"><a href="#local-6989586621679075869"><span class="hs-identifier">x</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Data.Generics.Uniplate.Direct.html#plate"><span class="hs-identifier hs-var">plate</span></a><span> </span><a href="#local-6989586621679075869"><span class="hs-identifier hs-var">x</span></a><span>
</span><a name="line-145"></a><span class="hs-keyword">instance</span><span> </span><a href="Data.Generics.Uniplate.Operations.html#Uniplate"><span class="hs-identifier hs-type">Uniplate</span></a><span> </span><span class="hs-identifier hs-type">Char</span><span> </span><span class="hs-keyword">where</span><span> </span><a name="local-8214565720323848942"><a href="Data.Generics.Uniplate.Operations.html#uniplate"><span class="hs-identifier">uniplate</span></a></a><span> </span><a name="local-6989586621679075868"><a href="#local-6989586621679075868"><span class="hs-identifier">x</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Data.Generics.Uniplate.Direct.html#plate"><span class="hs-identifier hs-var">plate</span></a><span> </span><a href="#local-6989586621679075868"><span class="hs-identifier hs-var">x</span></a><span>
</span><a name="line-146"></a><span class="hs-keyword">instance</span><span> </span><a href="Data.Generics.Uniplate.Operations.html#Uniplate"><span class="hs-identifier hs-type">Uniplate</span></a><span> </span><span class="hs-identifier hs-type">Integer</span><span> </span><span class="hs-keyword">where</span><span> </span><a name="local-8214565720323848942"><a href="Data.Generics.Uniplate.Operations.html#uniplate"><span class="hs-identifier">uniplate</span></a></a><span> </span><a name="local-6989586621679075867"><a href="#local-6989586621679075867"><span class="hs-identifier">x</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Data.Generics.Uniplate.Direct.html#plate"><span class="hs-identifier hs-var">plate</span></a><span> </span><a href="#local-6989586621679075867"><span class="hs-identifier hs-var">x</span></a><span>
</span><a name="line-147"></a><span class="hs-keyword">instance</span><span> </span><a href="Data.Generics.Uniplate.Operations.html#Uniplate"><span class="hs-identifier hs-type">Uniplate</span></a><span> </span><span class="hs-identifier hs-type">Double</span><span> </span><span class="hs-keyword">where</span><span> </span><a name="local-8214565720323848942"><a href="Data.Generics.Uniplate.Operations.html#uniplate"><span class="hs-identifier">uniplate</span></a></a><span> </span><a name="local-6989586621679075866"><a href="#local-6989586621679075866"><span class="hs-identifier">x</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Data.Generics.Uniplate.Direct.html#plate"><span class="hs-identifier hs-var">plate</span></a><span> </span><a href="#local-6989586621679075866"><span class="hs-identifier hs-var">x</span></a><span>
</span><a name="line-148"></a><span class="hs-keyword">instance</span><span> </span><a href="Data.Generics.Uniplate.Operations.html#Uniplate"><span class="hs-identifier hs-type">Uniplate</span></a><span> </span><span class="hs-identifier hs-type">Float</span><span> </span><span class="hs-keyword">where</span><span> </span><a name="local-8214565720323848942"><a href="Data.Generics.Uniplate.Operations.html#uniplate"><span class="hs-identifier">uniplate</span></a></a><span> </span><a name="local-6989586621679075865"><a href="#local-6989586621679075865"><span class="hs-identifier">x</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Data.Generics.Uniplate.Direct.html#plate"><span class="hs-identifier hs-var">plate</span></a><span> </span><a href="#local-6989586621679075865"><span class="hs-identifier hs-var">x</span></a><span>
</span><a name="line-149"></a><span class="hs-keyword">instance</span><span> </span><a href="Data.Generics.Uniplate.Operations.html#Uniplate"><span class="hs-identifier hs-type">Uniplate</span></a><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span> </span><a name="local-8214565720323848942"><a href="Data.Generics.Uniplate.Operations.html#uniplate"><span class="hs-identifier">uniplate</span></a></a><span> </span><a name="local-6989586621679075864"><a href="#local-6989586621679075864"><span class="hs-identifier">x</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Data.Generics.Uniplate.Direct.html#plate"><span class="hs-identifier hs-var">plate</span></a><span> </span><a href="#local-6989586621679075864"><span class="hs-identifier hs-var">x</span></a><span>
</span><a name="line-150"></a><span>
</span><a name="line-151"></a><span class="hs-keyword">instance</span><span> </span><a href="Data.Generics.Uniplate.Operations.html#Uniplate"><span class="hs-identifier hs-type">Uniplate</span></a><span> </span><span class="hs-special">[</span><span class="hs-identifier hs-type">Char</span><span class="hs-special">]</span><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-152"></a><span>    </span><a name="local-8214565720323848942"><a href="Data.Generics.Uniplate.Operations.html#uniplate"><span class="hs-identifier">uniplate</span></a></a><span> </span><span class="hs-special">(</span><a name="local-6989586621679075861"><a href="#local-6989586621679075861"><span class="hs-identifier">x</span></a></a><span class="hs-glyph">:</span><a name="local-6989586621679075862"><a href="#local-6989586621679075862"><span class="hs-identifier">xs</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="Data.Generics.Uniplate.Direct.html#plate"><span class="hs-identifier hs-var">plate</span></a><span> </span><span class="hs-special">(</span><a href="#local-6989586621679075861"><span class="hs-identifier hs-var">x</span></a><span class="hs-glyph">:</span><span class="hs-special">)</span><span> </span><a href="Data.Generics.Uniplate.Direct.html#%7C%2A"><span class="hs-operator hs-var">|*</span></a><span> </span><a href="#local-6989586621679075862"><span class="hs-identifier hs-var">xs</span></a><span>
</span><a name="line-153"></a><span>    </span><span class="hs-identifier">uniplate</span><span> </span><a name="local-6989586621679075863"><a href="#local-6989586621679075863"><span class="hs-identifier">x</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Data.Generics.Uniplate.Direct.html#plate"><span class="hs-identifier hs-var">plate</span></a><span> </span><a href="#local-6989586621679075863"><span class="hs-identifier hs-var">x</span></a><span>
</span><a name="line-154"></a><span>
</span><a name="line-155"></a><span class="hs-keyword">instance</span><span> </span><a href="Data.Generics.Uniplate.Operations.html#Biplate"><span class="hs-identifier hs-type">Biplate</span></a><span> </span><span class="hs-special">[</span><span class="hs-identifier hs-type">Char</span><span class="hs-special">]</span><span> </span><span class="hs-identifier hs-type">Char</span><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-156"></a><span>    </span><a name="local-8214565720323848938"><a href="Data.Generics.Uniplate.Operations.html#biplate"><span class="hs-identifier">biplate</span></a></a><span> </span><span class="hs-special">(</span><a name="local-6989586621679075858"><a href="#local-6989586621679075858"><span class="hs-identifier">x</span></a></a><span class="hs-glyph">:</span><a name="local-6989586621679075859"><a href="#local-6989586621679075859"><span class="hs-identifier">xs</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="Data.Generics.Uniplate.Direct.html#plate"><span class="hs-identifier hs-var">plate</span></a><span> </span><span class="hs-special">(</span><span class="hs-glyph">:</span><span class="hs-special">)</span><span> </span><a href="Data.Generics.Uniplate.Direct.html#%7C%2A"><span class="hs-operator hs-var">|*</span></a><span> </span><a href="#local-6989586621679075858"><span class="hs-identifier hs-var">x</span></a><span> </span><a href="Data.Generics.Uniplate.Direct.html#%7C%7C%2A"><span class="hs-operator hs-var">||*</span></a><span> </span><a href="#local-6989586621679075859"><span class="hs-identifier hs-var">xs</span></a><span>
</span><a name="line-157"></a><span>    </span><span class="hs-identifier">biplate</span><span> </span><a name="local-6989586621679075860"><a href="#local-6989586621679075860"><span class="hs-identifier">x</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Data.Generics.Uniplate.Direct.html#plate"><span class="hs-identifier hs-var">plate</span></a><span> </span><a href="#local-6989586621679075860"><span class="hs-identifier hs-var">x</span></a><span>
</span><a name="line-158"></a><span>
</span><a name="line-159"></a><span class="hs-keyword">instance</span><span> </span><a href="Data.Generics.Uniplate.Operations.html#Biplate"><span class="hs-identifier hs-type">Biplate</span></a><span> </span><span class="hs-special">[</span><span class="hs-identifier hs-type">Char</span><span class="hs-special">]</span><span> </span><span class="hs-special">[</span><span class="hs-identifier hs-type">Char</span><span class="hs-special">]</span><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-160"></a><span>    </span><a name="local-8214565720323848938"><a href="Data.Generics.Uniplate.Operations.html#biplate"><span class="hs-identifier">biplate</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Data.Generics.Uniplate.Direct.html#plateSelf"><span class="hs-identifier hs-var">plateSelf</span></a><span>
</span><a name="line-161"></a><span>
</span><a name="line-162"></a><span class="hs-keyword">instance</span><span> </span><a href="Data.Generics.Uniplate.Operations.html#Uniplate"><span class="hs-identifier hs-type">Uniplate</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-type">Ratio</span><span> </span><span class="hs-identifier hs-type">Integer</span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-163"></a><span>    </span><a name="local-8214565720323848942"><a href="Data.Generics.Uniplate.Operations.html#uniplate"><span class="hs-identifier">uniplate</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Data.Generics.Uniplate.Direct.html#plate"><span class="hs-identifier hs-var">plate</span></a><span>
</span><a name="line-164"></a><span>
</span><a name="line-165"></a><span class="hs-keyword">instance</span><span> </span><a href="Data.Generics.Uniplate.Operations.html#Biplate"><span class="hs-identifier hs-type">Biplate</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-type">Ratio</span><span> </span><span class="hs-identifier hs-type">Integer</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-type">Ratio</span><span> </span><span class="hs-identifier hs-type">Integer</span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-166"></a><span>    </span><a name="local-8214565720323848938"><a href="Data.Generics.Uniplate.Operations.html#biplate"><span class="hs-identifier">biplate</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Data.Generics.Uniplate.Direct.html#plateSelf"><span class="hs-identifier hs-var">plateSelf</span></a><span>
</span><a name="line-167"></a><span>
</span><a name="line-168"></a><span class="hs-keyword">instance</span><span> </span><a href="Data.Generics.Uniplate.Operations.html#Biplate"><span class="hs-identifier hs-type">Biplate</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-type">Ratio</span><span> </span><span class="hs-identifier hs-type">Integer</span><span class="hs-special">)</span><span> </span><span class="hs-identifier hs-type">Integer</span><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-169"></a><span>    </span><a name="local-8214565720323848938"><a href="Data.Generics.Uniplate.Operations.html#biplate"><span class="hs-identifier">biplate</span></a></a><span> </span><a name="local-6989586621679075855"><a href="#local-6989586621679075855"><span class="hs-identifier">x</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><a href="Data.Generics.Str.html#Two"><span class="hs-identifier hs-var">Two</span></a><span> </span><span class="hs-special">(</span><a href="Data.Generics.Str.html#One"><span class="hs-identifier hs-var">One</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">numerator</span><span> </span><a href="#local-6989586621679075855"><span class="hs-identifier hs-var">x</span></a><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><a href="Data.Generics.Str.html#One"><span class="hs-identifier hs-var">One</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">denominator</span><span> </span><a href="#local-6989586621679075855"><span class="hs-identifier hs-var">x</span></a><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="hs-glyph">\</span><span class="hs-special">(</span><a href="Data.Generics.Str.html#Two"><span class="hs-identifier hs-var">Two</span></a><span> </span><span class="hs-special">(</span><a href="Data.Generics.Str.html#One"><span class="hs-identifier hs-var">One</span></a><span> </span><a name="local-6989586621679075856"><a href="#local-6989586621679075856"><span class="hs-identifier">n</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><a href="Data.Generics.Str.html#One"><span class="hs-identifier hs-var">One</span></a><span> </span><a name="local-6989586621679075857"><a href="#local-6989586621679075857"><span class="hs-identifier">d</span></a></a><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679075856"><span class="hs-identifier hs-var">n</span></a><span> </span><span class="hs-operator hs-var">%</span><span> </span><a href="#local-6989586621679075857"><span class="hs-identifier hs-var">d</span></a><span class="hs-special">)</span><span>
</span><a name="line-170"></a></pre></body></html>